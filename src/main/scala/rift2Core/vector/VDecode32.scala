/*
  Copyright (c) 2020 - 2023 Wuhan University of Technology <295054118@whut.edu.cn>

   Licensed under the Apache License, Version 2.0 (the "License");
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
*/
package rift2Core.frontend

import chisel3._
import chisel3.util._
import rift2Core.define._

import rift2Chip._
import org.chipsalliance.cde.config._



trait VDecode32{ this: DecodeBase =>
  if( hasVector ) {

    info.vectorIsa.vadd.ivv         := ( x === BitPat("b000000???????????000?????1010111") )
    info.vectorIsa.vadd.ivx         := ( x === BitPat("b000000???????????100?????1010111") )
    info.vectorIsa.vadd.ivi         := ( x === BitPat("b000000???????????011?????1010111") )

    info.vectorIsa.vsub.ivv         := ( x === BitPat("b000010???????????000?????1010111") )
    info.vectorIsa.vsub.ivx         := ( x === BitPat("b000010???????????100?????1010111") )
    info.vectorIsa.vsub.ivi         := false.B

    info.vectorIsa.vrsub.ivv        := false.B
    info.vectorIsa.vrsub.ivx        := ( x === BitPat("b000011???????????100?????1010111") )
    info.vectorIsa.vrsub.ivi        := ( x === BitPat("b000011???????????011?????1010111") )

    info.vectorIsa.vminu.ivv        := ( x === BitPat("b000100???????????000?????1010111") )
    info.vectorIsa.vminu.ivx        := ( x === BitPat("b000100???????????100?????1010111") )
    info.vectorIsa.vminu.ivi        := false.B

    info.vectorIsa.vmin.ivv         := ( x === BitPat("b000101???????????000?????1010111") )
    info.vectorIsa.vmin.ivx         := ( x === BitPat("b000101???????????100?????1010111") )
    info.vectorIsa.vmin.ivi         := false.B

    info.vectorIsa.vmaxu.ivv        := ( x === BitPat("b000110???????????000?????1010111") )
    info.vectorIsa.vmaxu.ivx        := ( x === BitPat("b000110???????????100?????1010111") )
    info.vectorIsa.vmaxu.ivi        := false.B

    info.vectorIsa.vmax.ivv         := ( x === BitPat("b000111???????????000?????1010111") )
    info.vectorIsa.vmax.ivx         := ( x === BitPat("b000111???????????100?????1010111") )
    info.vectorIsa.vmax.ivi         := false.B

    info.vectorIsa.vand.ivv         := ( x === BitPat("b001001???????????000?????1010111") )
    info.vectorIsa.vand.ivx         := ( x === BitPat("b001001???????????100?????1010111") )
    info.vectorIsa.vand.ivi         := ( x === BitPat("b001001???????????011?????1010111") )

    info.vectorIsa.vor.ivv          := ( x === BitPat("b001010???????????000?????1010111") )
    info.vectorIsa.vor.ivx          := ( x === BitPat("b001010???????????100?????1010111") )
    info.vectorIsa.vor.ivi          := ( x === BitPat("b001010???????????011?????1010111") )

    info.vectorIsa.vxor.ivv         := ( x === BitPat("b001011???????????000?????1010111") )
    info.vectorIsa.vxor.ivx         := ( x === BitPat("b001011???????????100?????1010111") )
    info.vectorIsa.vxor.ivi         := ( x === BitPat("b001011???????????011?????1010111") )

    info.vectorIsa.vrgather.ivv     := ( x === BitPat("b001100???????????000?????1010111") )
    info.vectorIsa.vrgather.ivx     := ( x === BitPat("b001100???????????100?????1010111") )
    info.vectorIsa.vrgather.ivi     := ( x === BitPat("b001100???????????011?????1010111") )

    info.vectorIsa.vslideup.ivv     := false.B
    info.vectorIsa.vslideup.ivx     := ( x === BitPat("b001110???????????100?????1010111") )
    info.vectorIsa.vslideup.ivi     := ( x === BitPat("b001110???????????011?????1010111") )

    info.vectorIsa.vrgatherei16.ivv := ( x === BitPat("b001110???????????000?????1010111") )
    info.vectorIsa.vrgatherei16.ivx := false.B
    info.vectorIsa.vrgatherei16.ivi := false.B

    info.vectorIsa.vslidedown.ivv   := false.B
    info.vectorIsa.vslidedown.ivx   := ( x === BitPat("b001111???????????100?????1010111") )
    info.vectorIsa.vslidedown.ivi   := ( x === BitPat("b001111???????????011?????1010111") )



    info.vectorIsa.vredsum.mvv      := ( x === BitPat("b000000???????????010?????1010111") )
    info.vectorIsa.vredsum.mvx      := false.B

    info.vectorIsa.vredand.mvv      := ( x === BitPat("b000001???????????010?????1010111") )
    info.vectorIsa.vredand.mvx      := false.B

    info.vectorIsa.vredor.mvv       := ( x === BitPat("b000010???????????010?????1010111") )
    info.vectorIsa.vredor.mvx       := false.B

    info.vectorIsa.vredxor.mvv      := ( x === BitPat("b000011???????????010?????1010111") )
    info.vectorIsa.vredxor.mvx      := false.B

    info.vectorIsa.vredminu.mvv     := ( x === BitPat("b000100???????????010?????1010111") )
    info.vectorIsa.vredminu.mvx     := false.B

    info.vectorIsa.vredmin.mvv      := ( x === BitPat("b000101???????????010?????1010111") )
    info.vectorIsa.vredmin.mvx      := false.B

    info.vectorIsa.vredmaxu.mvv     := ( x === BitPat("b000110???????????010?????1010111") )
    info.vectorIsa.vredmaxu.mvx     := false.B

    info.vectorIsa.vredmax.mvv      := ( x === BitPat("b000111???????????010?????1010111") )
    info.vectorIsa.vredmax.mvx      := false.B

    info.vectorIsa.vaaddu.mvv       := ( x === BitPat("b001000???????????010?????1010111") )
    info.vectorIsa.vaaddu.mvx       := ( x === BitPat("b001000???????????110?????1010111") )

    info.vectorIsa.vaadd.mvv        := ( x === BitPat("b001001???????????010?????1010111") )
    info.vectorIsa.vaadd.mvx        := ( x === BitPat("b001001???????????110?????1010111") )

    info.vectorIsa.vasubu.mvv       := ( x === BitPat("b001010???????????010?????1010111") )
    info.vectorIsa.vasubu.mvx       := ( x === BitPat("b001010???????????110?????1010111") )

    info.vectorIsa.vasub.mvv        := ( x === BitPat("b001011???????????010?????1010111") )
    info.vectorIsa.vasub.mvx        := ( x === BitPat("b001011???????????110?????1010111") )

    info.vectorIsa.vslide1up.mvv    := false.B
    info.vectorIsa.vslide1up.mvx    := ( x === BitPat("b001110???????????110?????1010111") )

    info.vectorIsa.vslide1down.mvv  := false.B
    info.vectorIsa.vslide1down.mvx  := ( x === BitPat("b001111???????????110?????1010111") )

    info.vectorIsa.vfadd.fvv        := ( x === BitPat("b000000???????????001?????1010111") )
    info.vectorIsa.vfadd.fvf        := ( x === BitPat("b000000???????????101?????1010111") )

    info.vectorIsa.vfredusum.fvv    := ( x === BitPat("b000001???????????001?????1010111") )
    info.vectorIsa.vfredusum.fvf    := false.B

    info.vectorIsa.vfsub.fvv        := ( x === BitPat("b000010???????????001?????1010111") )
    info.vectorIsa.vfsub.fvf        := ( x === BitPat("b000010???????????101?????1010111") )

    info.vectorIsa.vfredosum.fvv    := ( x === BitPat("b000011???????????001?????1010111") )
    info.vectorIsa.vfredosum.fvf    := false.B

    info.vectorIsa.vfmin.fvv        := ( x === BitPat("b000100???????????001?????1010111") )
    info.vectorIsa.vfmin.fvf        := ( x === BitPat("b000100???????????101?????1010111") )

    info.vectorIsa.vfredmin.fvv     := ( x === BitPat("b000101???????????001?????1010111") )
    info.vectorIsa.vfredmin.fvf     := false.B

    info.vectorIsa.vfmax.fvv        := ( x === BitPat("b000110???????????001?????1010111") )
    info.vectorIsa.vfmax.fvf        := ( x === BitPat("b000110???????????101?????1010111") )

    info.vectorIsa.vfredmax.fvv     := ( x === BitPat("b000111???????????001?????1010111") )
    info.vectorIsa.vfredmax.fvf     := false.B

    info.vectorIsa.vfsgnj.fvv       := ( x === BitPat("b001000???????????001?????1010111") )
    info.vectorIsa.vfsgnj.fvf       := ( x === BitPat("b001000???????????101?????1010111") )

    info.vectorIsa.vfsgnjn.fvv      := ( x === BitPat("b001001???????????001?????1010111") )
    info.vectorIsa.vfsgnjn.fvf      := ( x === BitPat("b001001???????????101?????1010111") )

    info.vectorIsa.vfsgnjx.fvv      := ( x === BitPat("b001010???????????001?????1010111") )
    info.vectorIsa.vfsgnjx.fvf      := ( x === BitPat("b001010???????????101?????1010111") )

    info.vectorIsa.vfslide1up.fvv   := false.B
    info.vectorIsa.vfslide1up.fvf   := ( x === BitPat("b001110???????????101?????1010111") )

    info.vectorIsa.vfslide1down.fvv := false.B
    info.vectorIsa.vfslide1down.fvf := ( x === BitPat("b001111???????????101?????1010111") )

    info.vectorIsa.vadc.ivv      := ( x === BitPat("b010000???????????000?????1010111") )
    info.vectorIsa.vadc.ivx      := ( x === BitPat("b010000???????????100?????1010111") )
    info.vectorIsa.vadc.ivi      := ( x === BitPat("b010000???????????011?????1010111") )

    info.vectorIsa.vmadc.ivv     := ( x === BitPat("b010001???????????000?????1010111") )
    info.vectorIsa.vmadc.ivx     := ( x === BitPat("b010001???????????100?????1010111") )
    info.vectorIsa.vmadc.ivi     := ( x === BitPat("b010001???????????011?????1010111") )

    info.vectorIsa.vsbc.ivv      := ( x === BitPat("b010010???????????000?????1010111") )
    info.vectorIsa.vsbc.ivx      := ( x === BitPat("b010010???????????100?????1010111") )
    info.vectorIsa.vsbc.ivi      := false.B

    info.vectorIsa.vmsbc.ivv     := ( x === BitPat("b010011???????????000?????1010111") )
    info.vectorIsa.vmsbc.ivx     := ( x === BitPat("b010011???????????100?????1010111") )
    info.vectorIsa.vmsbc.ivi     := false.B

    info.vectorIsa.vmerge.ivv    := ( x === BitPat("b010111???????????000?????1010111") ) & ( ~x(25) | (x(24,20) =/= 0.U) )
    info.vectorIsa.vmerge.ivx    := ( x === BitPat("b010111???????????100?????1010111") ) & ( ~x(25) | (x(24,20) =/= 0.U) )
    info.vectorIsa.vmerge.ivi    := ( x === BitPat("b010111???????????011?????1010111") ) & ( ~x(25) | (x(24,20) =/= 0.U) )

    info.vectorIsa.vmv.ivv       := ( x === BitPat("b010111100000?????000?????1010111") )
    info.vectorIsa.vmv.ivx       := ( x === BitPat("b010111100000?????100?????1010111") )
    info.vectorIsa.vmv.ivi       := ( x === BitPat("b010111100000?????011?????1010111") )

    info.vectorIsa.vmseq.ivv     := ( x === BitPat("b011000???????????000?????1010111") )
    info.vectorIsa.vmseq.ivx     := ( x === BitPat("b011000???????????100?????1010111") )
    info.vectorIsa.vmseq.ivi     := ( x === BitPat("b011000???????????011?????1010111") )

    info.vectorIsa.vmsne.ivv     := ( x === BitPat("b011001???????????000?????1010111") )
    info.vectorIsa.vmsne.ivx     := ( x === BitPat("b011001???????????100?????1010111") )
    info.vectorIsa.vmsne.ivi     := ( x === BitPat("b011001???????????011?????1010111") )

    info.vectorIsa.vmsltu.ivv    := ( x === BitPat("b011010???????????000?????1010111") )
    info.vectorIsa.vmsltu.ivx    := ( x === BitPat("b011010???????????100?????1010111") )
    info.vectorIsa.vmsltu.ivi    := false.B

    info.vectorIsa.vmslt.ivv     := ( x === BitPat("b011011???????????000?????1010111") )
    info.vectorIsa.vmslt.ivx     := ( x === BitPat("b011011???????????100?????1010111") )
    info.vectorIsa.vmslt.ivi     := false.B

    info.vectorIsa.vmsleu.ivv    := ( x === BitPat("b011100???????????000?????1010111") )
    info.vectorIsa.vmsleu.ivx    := ( x === BitPat("b011100???????????100?????1010111") )
    info.vectorIsa.vmsleu.ivi    := ( x === BitPat("b011100???????????011?????1010111") )

    info.vectorIsa.vmsle.ivv     := ( x === BitPat("b011101???????????000?????1010111") )
    info.vectorIsa.vmsle.ivx     := ( x === BitPat("b011101???????????100?????1010111") )
    info.vectorIsa.vmsle.ivi     := ( x === BitPat("b011101???????????011?????1010111") )

    info.vectorIsa.vmsgtu.ivv    := false.B
    info.vectorIsa.vmsgtu.ivx    := ( x === BitPat("b011110???????????100?????1010111") )
    info.vectorIsa.vmsgtu.ivi    := ( x === BitPat("b011110???????????011?????1010111") )

    info.vectorIsa.vmsgt.ivv     := false.B
    info.vectorIsa.vmsgt.ivx     := ( x === BitPat("b011111???????????100?????1010111") )
    info.vectorIsa.vmsgt.ivi     := ( x === BitPat("b011111???????????011?????1010111") )


    info.vectorIsa.vmv_x_s   := ( x === BitPat("b010000??????00000010?????1010111") )
    info.vectorIsa.vpopc     := ( x === BitPat("b010000??????10000010?????1010111") )
    info.vectorIsa.vfirst    := ( x === BitPat("b010000??????10001010?????1010111") )

    info.vectorIsa.vmv_s_x   := ( x === BitPat("b010000?00000?????110?????1010111") )

    info.vectorIsa.vzext_vf8 := ( x === BitPat("b010010??????00010010?????1010111") )
    info.vectorIsa.vsext_vf8 := ( x === BitPat("b010010??????00011010?????1010111") )
    info.vectorIsa.vzext_vf4 := ( x === BitPat("b010010??????00100010?????1010111") )
    info.vectorIsa.vsext_vf4 := ( x === BitPat("b010010??????00101010?????1010111") )
    info.vectorIsa.vzext_vf2 := ( x === BitPat("b010010??????00110010?????1010111") )
    info.vectorIsa.vsext_vf2 := ( x === BitPat("b010010??????00111010?????1010111") )
  
    info.vectorIsa.vmsbf := ( x === BitPat("b010100??????00001010?????1010111") )
    info.vectorIsa.vmsof := ( x === BitPat("b010100??????00010010?????1010111") )
    info.vectorIsa.vmsif := ( x === BitPat("b010100??????00011010?????1010111") )
    info.vectorIsa.viota := ( x === BitPat("b010100??????10000010?????1010111") )
    info.vectorIsa.vid   := ( x === BitPat("b010100??????10001010?????1010111") )

    info.vectorIsa.vcompress.mvv := ( x === BitPat("b010111???????????010?????1010111") )
    info.vectorIsa.vcompress.mvx := false.B

    info.vectorIsa.vmandnot.mvv  := ( x === BitPat("b011000???????????010?????1010111") )
    info.vectorIsa.vmandnot.mvx  := false.B

    info.vectorIsa.vmand.mvv     := ( x === BitPat("b011001???????????010?????1010111") )
    info.vectorIsa.vmand.mvx     := false.B

    info.vectorIsa.vmor.mvv      := ( x === BitPat("b011010???????????010?????1010111") )
    info.vectorIsa.vmor.mvx      := false.B

    info.vectorIsa.vmxor.mvv     := ( x === BitPat("b011011???????????010?????1010111") )
    info.vectorIsa.vmxor.mvx     := false.B

    info.vectorIsa.vmornot.mvv   := ( x === BitPat("b011100???????????010?????1010111") )
    info.vectorIsa.vmornot.mvx   := false.B

    info.vectorIsa.vmnand.mvv    := ( x === BitPat("b011101???????????010?????1010111") )
    info.vectorIsa.vmnand.mvx    := false.B

    info.vectorIsa.vmnor.mvv     := ( x === BitPat("b011110???????????010?????1010111") )
    info.vectorIsa.vmnor.mvx     := false.B

    info.vectorIsa.vmxnor.mvv    := ( x === BitPat("b011111???????????010?????1010111") )
    info.vectorIsa.vmxnor.mvx    := false.B

    info.vectorIsa.vfmv_f_s     := ( x === BitPat("b010000??????00000001?????1010111") )


    info.vectorIsa.vfmv_s_f     := ( x === BitPat("b010000?00000?????101?????1010111") )

    info.vectorIsa.vfcvt_xu_f_v     := ( x === BitPat("b010010??????00000001?????1010111") )
    info.vectorIsa.vfcvt_x_f_v      := ( x === BitPat("b010010??????00001001?????1010111") )
    info.vectorIsa.vfcvt_f_xu_v     := ( x === BitPat("b010010??????00010001?????1010111") )
    info.vectorIsa.vfcvt_f_x_v      := ( x === BitPat("b010010??????00011001?????1010111") )
    info.vectorIsa.vfcvt_rtz_xu_f_v := ( x === BitPat("b010010??????00110001?????1010111") )
    info.vectorIsa.vfcvt_rtz_x_f_v  := ( x === BitPat("b010010??????00111001?????1010111") )

    info.vectorIsa.vfwcvt_xu_f_v     := ( x === BitPat("b010010??????01000001?????1010111") )
    info.vectorIsa.vfwcvt_x_f_v      := ( x === BitPat("b010010??????01001001?????1010111") )
    info.vectorIsa.vfwcvt_f_xu_v     := ( x === BitPat("b010010??????01010001?????1010111") )
    info.vectorIsa.vfwcvt_f_x_v      := ( x === BitPat("b010010??????01011001?????1010111") )
    info.vectorIsa.vfwcvt_f_f_v      := ( x === BitPat("b010010??????01100001?????1010111") )
    info.vectorIsa.vfwcvt_rtz_xu_f_v := ( x === BitPat("b010010??????01110001?????1010111") )
    info.vectorIsa.vfwcvt_rtz_x_f_v  := ( x === BitPat("b010010??????01111001?????1010111") )

    info.vectorIsa.vfncvt_xu_f_w     := ( x === BitPat("b010010??????10000001?????1010111") )
    info.vectorIsa.vfncvt_x_f_w      := ( x === BitPat("b010010??????10001001?????1010111") )
    info.vectorIsa.vfncvt_f_xu_w     := ( x === BitPat("b010010??????10010001?????1010111") )
    info.vectorIsa.vfncvt_f_x_w      := ( x === BitPat("b010010??????10011001?????1010111") )
    info.vectorIsa.vfncvt_f_f_w      := ( x === BitPat("b010010??????10100001?????1010111") )
    info.vectorIsa.vfncvt_rod_f_f_w  := ( x === BitPat("b010010??????10101001?????1010111") )
    info.vectorIsa.vfncvt_rtz_xu_f_w := ( x === BitPat("b010010??????10110001?????1010111") )
    info.vectorIsa.vfncvt_rtz_x_f_w  := ( x === BitPat("b010010??????10111001?????1010111") )


    info.vectorIsa.vfsqrt_v     := ( x === BitPat("b010011??????00000001?????1010111") )
    info.vectorIsa.vfrsqrt7_v   := ( x === BitPat("b010011??????00100001?????1010111") )
    info.vectorIsa.vfrec7_v     := ( x === BitPat("b010011??????00101001?????1010111") )
    info.vectorIsa.vfclass_v    := ( x === BitPat("b010011??????10000001?????1010111") )

    info.vectorIsa.vfmerge.fvv   := false.B
    info.vectorIsa.vfmerge.fvf   := ( x === BitPat("b010111???????????101?????1010111") ) & (~x(25) | (x(24,20) =/= 0.U))

    info.vectorIsa.vfmv.fvv      := false.B
    info.vectorIsa.vfmv.fvf      := ( x === BitPat("b010111100000?????101?????1010111") )


    info.vectorIsa.vmfeq.fvv     := ( x === BitPat("b011000???????????001?????1010111") )
    info.vectorIsa.vmfeq.fvf     := ( x === BitPat("b011000???????????101?????1010111") )

    info.vectorIsa.vmfle.fvv     := ( x === BitPat("b011001???????????001?????1010111") )
    info.vectorIsa.vmfle.fvf     := ( x === BitPat("b011001???????????101?????1010111") )

    info.vectorIsa.vmflt.fvv     := ( x === BitPat("b011011???????????001?????1010111") )
    info.vectorIsa.vmflt.fvf     := ( x === BitPat("b011011???????????101?????1010111") )

    info.vectorIsa.vmfne.fvv     := ( x === BitPat("b011100???????????001?????1010111") )
    info.vectorIsa.vmfne.fvf     := ( x === BitPat("b011100???????????101?????1010111") )

    info.vectorIsa.vmfgt.fvv     := false.B
    info.vectorIsa.vmfgt.fvf     := ( x === BitPat("b011101???????????101?????1010111") )

    info.vectorIsa.vmfge.fvv     := false.B
    info.vectorIsa.vmfge.fvf     := ( x === BitPat("b011111???????????101?????1010111") )


    info.vectorIsa.vsaddu.ivv  := ( x === BitPat("b100000???????????000?????1010111") )
    info.vectorIsa.vsaddu.ivx  := ( x === BitPat("b100000???????????100?????1010111") )
    info.vectorIsa.vsaddu.ivi  := ( x === BitPat("b100000???????????011?????1010111") )

    info.vectorIsa.vsadd.ivv   := ( x === BitPat("b100001???????????000?????1010111") )
    info.vectorIsa.vsadd.ivx   := ( x === BitPat("b100001???????????100?????1010111") )
    info.vectorIsa.vsadd.ivi   := ( x === BitPat("b100001???????????011?????1010111") )

    info.vectorIsa.vssubu.ivv  := ( x === BitPat("b100010???????????000?????1010111") )
    info.vectorIsa.vssubu.ivx  := ( x === BitPat("b100010???????????100?????1010111") )
    info.vectorIsa.vssubu.ivi  := false.B

    info.vectorIsa.vssub.ivv   := ( x === BitPat("b100011???????????000?????1010111") )
    info.vectorIsa.vssub.ivx   := ( x === BitPat("b100011???????????100?????1010111") )
    info.vectorIsa.vssub.ivi   := false.B

    info.vectorIsa.vsll.ivv    := ( x === BitPat("b100101???????????000?????1010111") )
    info.vectorIsa.vsll.ivx    := ( x === BitPat("b100101???????????100?????1010111") )
    info.vectorIsa.vsll.ivi    := ( x === BitPat("b100101???????????011?????1010111") )

    info.vectorIsa.vsmul.ivv   := ( x === BitPat("b100101???????????000?????1010111") )
    info.vectorIsa.vsmul.ivx   := ( x === BitPat("b100101???????????100?????1010111") )
    info.vectorIsa.vsmul.ivi   := false.B

    info.vectorIsa.vmvnr.ivv   := false.B
    info.vectorIsa.vmvnr.ivx   := false.B
    info.vectorIsa.vmvnr.ivi   := ( x === BitPat("b???1011??????????011?????1010111") ) & ( x(24, 20) =/= x(11, 7) ) & (
      ( x(31,29) === "b000".U ) | ( x(31,29) === "b001".U ) | ( x(31,29) === "b011".U ) | ( x(31,29) === "b111".U )      
    )


    info.vectorIsa.vsrl.ivv    := ( x === BitPat("b101000???????????000?????1010111") )
    info.vectorIsa.vsrl.ivx    := ( x === BitPat("b101000???????????100?????1010111") )
    info.vectorIsa.vsrl.ivi    := ( x === BitPat("b101000???????????011?????1010111") )

    info.vectorIsa.vsra.ivv    := ( x === BitPat("b101001???????????000?????1010111") )
    info.vectorIsa.vsra.ivx    := ( x === BitPat("b101001???????????100?????1010111") )
    info.vectorIsa.vsra.ivi    := ( x === BitPat("b101001???????????011?????1010111") )

    info.vectorIsa.vssrl.ivv   := ( x === BitPat("b101010???????????000?????1010111") )
    info.vectorIsa.vssrl.ivx   := ( x === BitPat("b101010???????????100?????1010111") )
    info.vectorIsa.vssrl.ivi   := ( x === BitPat("b101010???????????011?????1010111") )

    info.vectorIsa.vssra.ivv   := ( x === BitPat("b101011???????????000?????1010111") )
    info.vectorIsa.vssra.ivx   := ( x === BitPat("b101011???????????100?????1010111") )
    info.vectorIsa.vssra.ivi   := ( x === BitPat("b101011???????????011?????1010111") )

    info.vectorIsa.vnsrl.ivv   := ( x === BitPat("b101100???????????000?????1010111") )
    info.vectorIsa.vnsrl.ivx   := ( x === BitPat("b101100???????????100?????1010111") )
    info.vectorIsa.vnsrl.ivi   := ( x === BitPat("b101100???????????011?????1010111") )

    info.vectorIsa.vnsra.ivv   := ( x === BitPat("b101101???????????000?????1010111") )
    info.vectorIsa.vnsra.ivx   := ( x === BitPat("b101101???????????100?????1010111") )
    info.vectorIsa.vnsra.ivi   := ( x === BitPat("b101101???????????011?????1010111") )

    info.vectorIsa.vnclipu.ivv := ( x === BitPat("b101110???????????000?????1010111") )
    info.vectorIsa.vnclipu.ivx := ( x === BitPat("b101110???????????100?????1010111") )
    info.vectorIsa.vnclipu.ivi := ( x === BitPat("b101110???????????011?????1010111") )

    info.vectorIsa.vnclip.ivv  := ( x === BitPat("b101111???????????000?????1010111") )
    info.vectorIsa.vnclip.ivx  := ( x === BitPat("b101111???????????100?????1010111") )
    info.vectorIsa.vnclip.ivi  := ( x === BitPat("b101111???????????011?????1010111") )

    info.vectorIsa.vdivu.mvv   := ( x === BitPat("b100000???????????010?????1010111") )
    info.vectorIsa.vdivu.mvx   := ( x === BitPat("b100000???????????110?????1010111") )

    info.vectorIsa.vdiv.mvv    := ( x === BitPat("b100001???????????010?????1010111") )
    info.vectorIsa.vdiv.mvx    := ( x === BitPat("b100001???????????110?????1010111") )

    info.vectorIsa.vremu.mvv   := ( x === BitPat("b100010???????????010?????1010111") )
    info.vectorIsa.vremu.mvx   := ( x === BitPat("b100010???????????110?????1010111") )

    info.vectorIsa.vrem.mvv    := ( x === BitPat("b100011???????????010?????1010111") )
    info.vectorIsa.vrem.mvx    := ( x === BitPat("b100011???????????110?????1010111") )

    info.vectorIsa.vmulhu.mvv  := ( x === BitPat("b100100???????????010?????1010111") )
    info.vectorIsa.vmulhu.mvx  := ( x === BitPat("b100100???????????110?????1010111") )

    info.vectorIsa.vmul.mvv    := ( x === BitPat("b100101???????????010?????1010111") )
    info.vectorIsa.vmul.mvx    := ( x === BitPat("b100101???????????110?????1010111") )

    info.vectorIsa.vmulhsu.mvv := ( x === BitPat("b100110???????????010?????1010111") )
    info.vectorIsa.vmulhsu.mvx := ( x === BitPat("b100110???????????110?????1010111") )

    info.vectorIsa.vmulh.mvv   := ( x === BitPat("b100111???????????010?????1010111") )
    info.vectorIsa.vmulh.mvx   := ( x === BitPat("b100111???????????110?????1010111") )

    info.vectorIsa.vmadd.mvv   := ( x === BitPat("b101001???????????010?????1010111") )
    info.vectorIsa.vmadd.mvx   := ( x === BitPat("b101001???????????110?????1010111") )

    info.vectorIsa.vnmsub.mvv  := ( x === BitPat("b101011???????????010?????1010111") )
    info.vectorIsa.vnmsub.mvx  := ( x === BitPat("b101011???????????110?????1010111") )

    info.vectorIsa.vmacc.mvv   := ( x === BitPat("b101101???????????010?????1010111") )
    info.vectorIsa.vmacc.mvx   := ( x === BitPat("b101101???????????110?????1010111") )

    info.vectorIsa.vnmsac.mvv  := ( x === BitPat("b101111???????????010?????1010111") )
    info.vectorIsa.vnmsac.mvx  := ( x === BitPat("b101111???????????110?????1010111") )

    info.vectorIsa.vfdiv.fvv   := ( x === BitPat("b100000???????????001?????1010111") )
    info.vectorIsa.vfdiv.fvf   := ( x === BitPat("b100000???????????101?????1010111") )

    info.vectorIsa.vfrdiv.fvv  := false.B
    info.vectorIsa.vfrdiv.fvf  := ( x === BitPat("b100001???????????101?????1010111") )

    info.vectorIsa.vfmul.fvv   := ( x === BitPat("b100100???????????001?????1010111") )
    info.vectorIsa.vfmul.fvf   := ( x === BitPat("b100100???????????101?????1010111") )

    info.vectorIsa.vfrsub.fvv  := false.B
    info.vectorIsa.vfrsub.fvf  := ( x === BitPat("b100111???????????101?????1010111") )

    info.vectorIsa.vfmadd.fvv  := ( x === BitPat("b101000???????????001?????1010111") )
    info.vectorIsa.vfmadd.fvf  := ( x === BitPat("b101000???????????101?????1010111") )

    info.vectorIsa.vfnmadd.fvv := ( x === BitPat("b101001???????????001?????1010111") )
    info.vectorIsa.vfnmadd.fvf := ( x === BitPat("b101001???????????101?????1010111") )

    info.vectorIsa.vfmsub.fvv  := ( x === BitPat("b101010???????????001?????1010111") )
    info.vectorIsa.vfmsub.fvf  := ( x === BitPat("b101010???????????101?????1010111") )

    info.vectorIsa.vfnmsub.fvv := ( x === BitPat("b101011???????????001?????1010111") )
    info.vectorIsa.vfnmsub.fvf := ( x === BitPat("b101011???????????101?????1010111") )

    info.vectorIsa.vfmacc.fvv  := ( x === BitPat("b101100???????????001?????1010111") )
    info.vectorIsa.vfmacc.fvf  := ( x === BitPat("b101100???????????101?????1010111") )

    info.vectorIsa.vfnmacc.fvv := ( x === BitPat("b101101???????????001?????1010111") )
    info.vectorIsa.vfnmacc.fvf := ( x === BitPat("b101101???????????101?????1010111") )

    info.vectorIsa.vfmsac.fvv  := ( x === BitPat("b101110???????????001?????1010111") )
    info.vectorIsa.vfmsac.fvf  := ( x === BitPat("b101110???????????101?????1010111") )

    info.vectorIsa.vfnmsac.fvv := ( x === BitPat("b101111???????????001?????1010111") )
    info.vectorIsa.vfnmsac.fvf := ( x === BitPat("b101111???????????101?????1010111") )

    info.vectorIsa.vwredsumu.ivv  := ( x === BitPat("b110000???????????000?????1010111") )
    info.vectorIsa.vwredsumu.ivx  := false.B
    info.vectorIsa.vwredsumu.ivi  := false.B

    info.vectorIsa.vwredsum.ivv   := ( x === BitPat("b110001???????????000?????1010111") )
    info.vectorIsa.vwredsum.ivx   := false.B
    info.vectorIsa.vwredsum.ivi   := false.B

    info.vectorIsa.vwaddu.mvv     := ( x === BitPat("b110000???????????010?????1010111") )
    info.vectorIsa.vwaddu.mvx     := ( x === BitPat("b110000???????????110?????1010111") )

    info.vectorIsa.vwadd.mvv      := ( x === BitPat("b110001???????????010?????1010111") )
    info.vectorIsa.vwadd.mvx      := ( x === BitPat("b110001???????????110?????1010111") )

    info.vectorIsa.vwsubu.mvv     := ( x === BitPat("b110010???????????010?????1010111") )
    info.vectorIsa.vwsubu.mvx     := ( x === BitPat("b110010???????????110?????1010111") )

    info.vectorIsa.vwsub.mvv      := ( x === BitPat("b110011???????????010?????1010111") )
    info.vectorIsa.vwsub.mvx      := ( x === BitPat("b110011???????????110?????1010111") )

    info.vectorIsa.vwaddu_w.mvv   := ( x === BitPat("b110100???????????010?????1010111") )
    info.vectorIsa.vwaddu_w.mvx   := ( x === BitPat("b110100???????????110?????1010111") )

    info.vectorIsa.vwadd_w.mvv    := ( x === BitPat("b110101???????????010?????1010111") )
    info.vectorIsa.vwadd_w.mvx    := ( x === BitPat("b110101???????????110?????1010111") )

    info.vectorIsa.vwsubu_w.mvv   := ( x === BitPat("b110110???????????010?????1010111") )
    info.vectorIsa.vwsubu_w.mvx   := ( x === BitPat("b110110???????????110?????1010111") )

    info.vectorIsa.vwsub_w.mvv    := ( x === BitPat("b110111???????????010?????1010111") )
    info.vectorIsa.vwsub_w.mvx    := ( x === BitPat("b110111???????????110?????1010111") )

    info.vectorIsa.vwmulu.mvv     := ( x === BitPat("b111000???????????010?????1010111") )
    info.vectorIsa.vwmulu.mvx     := ( x === BitPat("b111000???????????110?????1010111") )

    info.vectorIsa.vwmulsu.mvv    := ( x === BitPat("b111010???????????010?????1010111") )
    info.vectorIsa.vwmulsu.mvx    := ( x === BitPat("b111010???????????110?????1010111") )

    info.vectorIsa.vwmul.mvv      := ( x === BitPat("b111011???????????010?????1010111") )
    info.vectorIsa.vwmul.mvx      := ( x === BitPat("b111011???????????110?????1010111") )

    info.vectorIsa.vwmaccu.mvv    := ( x === BitPat("b111100???????????010?????1010111") )
    info.vectorIsa.vwmaccu.mvx    := ( x === BitPat("b111100???????????110?????1010111") )

    info.vectorIsa.vwmacc.mvv     := ( x === BitPat("b111101???????????010?????1010111") )
    info.vectorIsa.vwmacc.mvx     := ( x === BitPat("b111101???????????110?????1010111") )

    info.vectorIsa.vwmaccus.mvv   := false.B
    info.vectorIsa.vwmaccus.mvx   := ( x === BitPat("b111110???????????110?????1010111") )

    info.vectorIsa.vwmaccsu.mvv   := ( x === BitPat("b111111???????????010?????1010111") )
    info.vectorIsa.vwmaccsu.mvx   := ( x === BitPat("b111111???????????110?????1010111") )


    info.vectorIsa.vfwadd.fvv     := ( x === BitPat("b110000???????????001?????1010111") )
    info.vectorIsa.vfwadd.fvf     := ( x === BitPat("b110000???????????101?????1010111") )

    info.vectorIsa.vfwredusum.fvv := ( x === BitPat("b110001???????????001?????1010111") )
    info.vectorIsa.vfwredusum.fvf := ( x === BitPat("b110001???????????101?????1010111") )

    info.vectorIsa.vfwsub.fvv     := ( x === BitPat("b110010???????????001?????1010111") )
    info.vectorIsa.vfwsub.fvf     := ( x === BitPat("b110010???????????101?????1010111") )

    info.vectorIsa.vfwredosum.fvv := ( x === BitPat("b110011???????????001?????1010111") )
    info.vectorIsa.vfwredosum.fvf := ( x === BitPat("b110011???????????101?????1010111") )

    info.vectorIsa.vfwadd_w.fvv   := ( x === BitPat("b110100???????????001?????1010111") )
    info.vectorIsa.vfwadd_w.fvf   := ( x === BitPat("b110100???????????101?????1010111") )

    info.vectorIsa.vfwsub_w.fvv   := ( x === BitPat("b110110???????????001?????1010111") )
    info.vectorIsa.vfwsub_w.fvf   := ( x === BitPat("b110110???????????101?????1010111") )

    info.vectorIsa.vfwmul.fvv     := ( x === BitPat("b111000???????????001?????1010111") )
    info.vectorIsa.vfwmul.fvf     := ( x === BitPat("b111000???????????101?????1010111") )

    info.vectorIsa.vfwmacc.fvv    := ( x === BitPat("b111100???????????001?????1010111") )
    info.vectorIsa.vfwmacc.fvf    := ( x === BitPat("b111100???????????101?????1010111") )

    info.vectorIsa.vfwnmacc.fvv   := ( x === BitPat("b111101???????????001?????1010111") )
    info.vectorIsa.vfwnmacc.fvf   := ( x === BitPat("b111101???????????101?????1010111") )

    info.vectorIsa.vfwmsac.fvv    := ( x === BitPat("b111110???????????001?????1010111") )
    info.vectorIsa.vfwmsac.fvf    := ( x === BitPat("b111110???????????101?????1010111") )

    info.vectorIsa.vfwnmsac.fvv   := ( x === BitPat("b111111???????????001?????1010111") )
    info.vectorIsa.vfwnmsac.fvf   := ( x === BitPat("b111111???????????101?????1010111") )



    info.vectorIsa.vsetvli  := ( x === BitPat("b0????????????????111?????1010111") )
    info.vectorIsa.vsetivli := ( x === BitPat("b11???????????????111?????1010111") )
    info.vectorIsa.vsetvl   := ( x === BitPat("b1000000??????????111?????1010111") )
 



    info.lsu_isa.vle       := ( x === BitPat("b????00?00000?????????????0000111") )
    info.lsu_isa.vlm       := ( x === BitPat("b????00?01011?????????????0000111") )
    info.lsu_isa.vlse      := ( x === BitPat("b????10???????????????????0000111") )
    info.lsu_isa.vloxei    := ( x === BitPat("b?????1???????????????????0000111") )
    info.lsu_isa.vleNff    := ( x === BitPat("b????00?10000?????????????0000111") )
    info.lsu_isa.vlNreN    := ( x === BitPat("b????00?01000?????????????0000111") )

    info.lsu_isa.vse       := ( x === BitPat("b????00?00000?????????????0100111") )
    info.lsu_isa.vsm       := ( x === BitPat("b????00?01011?????????????0100111") )
    info.lsu_isa.vsse      := ( x === BitPat("b????10???????????????????0100111") )
    info.lsu_isa.vsoxei    := ( x === BitPat("b?????1???????????????????0100111") )
    info.lsu_isa.vsNr      := ( x === BitPat("b????00?01000?????????????0100111") )




    info.vAttach.get.vm  := x(25).asBool()
    info.vAttach.get.nf  := x(31,29)


    info.vAttach.get.lmulSel   := 0.U
    info.vAttach.get.nfSel     := 0.U
    info.vAttach.get.widenSel  := 0.U
    info.vAttach.get.vstartSel := 0.U
    info.vAttach.get.isLast    := true.B
    info.vAttach.get.vstart    := 0.U
    info.vAttach.get.vl        := 0.U
    info.vAttach.get.vtype     := 0.U

  }
}

trait NVDecode{ this: DecodeBase =>
  if( !hasVector ) {
    info.vectorIsa := 0.U.asTypeOf( new VectorIsa )

    info.lsu_isa.vle    := false.B
    info.lsu_isa.vse    := false.B
    info.lsu_isa.vlm    := false.B
    info.lsu_isa.vsm    := false.B
    info.lsu_isa.vlse   := false.B
    info.lsu_isa.vsse   := false.B
    info.lsu_isa.vloxei := false.B
    info.lsu_isa.vsoxei := false.B
    info.lsu_isa.vlNreN := false.B
    info.lsu_isa.vsNr   := false.B
    info.lsu_isa.vleNff := false.B
  }
}
